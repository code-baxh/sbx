! function(o) {
    "use strict";
    o.slimLightbox = function() {
        this.elements = null, this.bodyClass = "", this.container = null, this.items = [], this.activeIndex = 0, this.activePath = null, this.group = null, this.controlState = !0, this.url = o.location.href, this.itemContainer = null, this.itemFirst = null, this.itemLast = null, this.itemActive = null, this.pagerBox = null, this.resizeTimer, this.dragActive = !1, this.dragOffsetX = 0;
        this.dragCurrentX = 0;
        (arguments[0] && "object" == typeof arguments[0] || void 0 === arguments[0]) && (this.options = e({
            duration: 500,
            loader: "type2",
            keyboardNav: !0,
            scrollNav: !0,
            escClose: !0,
            overlayClose: !0,
            deepLink: !0,
            hideWindowScroll: !0,
            imgBorder: !1,
            fullScreenBtn: !1,
            pagerShow: !0,
            drag: !0,
            overlayStyle: "background-color:rgba(30,30,30,.9)"
        }, arguments[0])), t.call(this)
    };
    var n = function(t) {
            var e = this;
            e.options.hideWindowScroll && (e.bodyClass = document.body.className, document.body.className += e.bodyClass + " s-lightbox-hidden-scroll"), void 0 !== t.getAttribute("data-s-lightbox-group") && "" !== t.getAttribute("data-s-lightbox-group") && null !== t.getAttribute("data-s-lightbox-group") ? e.group = t.getAttribute("data-s-lightbox-group") : (e.group = "group" + Math.floor(1e7 * Math.random()), t.setAttribute("data-s-lightbox-group", e.group)), e.activePath = s(t).original, i.call(e), a.call(e), e.resizeHandler = function() {
                var o = this;
                clearTimeout(o.resizeTimer), o.resizeTimer = setTimeout(function() {
                    var t, e, i, n, l, s, a = o.activeIndex - 1;
                    a < 0 && (a = o.items.length - 1);
                    var r = o.activeIndex + 1;
                    r >= o.items.length && (r = 0), "image" == o.items[o.activeIndex].type ? (t = o.itemActive.querySelector("img").naturalWidth, e = o.itemActive.querySelector("img").naturalHeight) : (t = o.items[o.activeIndex].width, e = o.items[o.activeIndex].height), 1 < o.items.length && ("image" == o.items[a].type ? (i = o.itemFirst.querySelector("img").naturalWidth, n = o.itemFirst.querySelector("img").naturalHeight) : (i = o.items[a].width, n = o.items[a].height), "image" == o.items[r].type ? (l = o.itemLast.querySelector("img").naturalWidth, s = o.itemLast.querySelector("img").naturalHeight) : (l = o.items[r].width, s = o.items[r].height)), A(o.itemActive.querySelector(".s-lightbox-item-box"), t, e, o.items[o.activeIndex].ratio), 1 < o.items.length && (A(o.itemLast.querySelector(".s-lightbox-item-box"), l, s, o.items[r].ratio), A(o.itemFirst.querySelector(".s-lightbox-item-box"), i, n, o.items[a].ratio))
                }, 100)
            }.bind(e), o.addEventListener("resize", e.resizeHandler), 1 < e.items.length && (e.options.keyboardNav && (e.keypressHandler = function(t) {
                o.event;
                var e = t.keyCode || t.which;
                39 === e ? this.controlState && w.call(this) : 37 === e && this.controlState && E.call(this)
            }.bind(e), document.addEventListener("keydown", e.keypressHandler)), e.options.scrollNav && (e.scrollHandler = function(t) {
                var e = o.event || t,
                    i = Math.max(-1, Math.min(1, e.wheelDelta || -e.detail));
                if (null !== this.itemActive.querySelector(".s-lightbox-view-html")) {
                    var n = this.itemActive.querySelector(".s-lightbox-view-html").getBoundingClientRect(),
                        l = document.body.clientWidth,
                        s = o.innerHeight;
                    if (e.clientX >= (l - n.width) / 2 && e.clientX <= (l - n.width) / 2 + n.width && e.clientY >= (s - n.height) / 2 && e.clientY <= (s - n.height) / 2 + n.height) return !1
                }
                i < 0 ? this.controlState && w.call(this) : 0 < i && this.controlState && E.call(this)
            }.bind(e), o.addEventListener("mousewheel", e.scrollHandler, !1), o.addEventListener("DOMMouseScroll", e.scrollHandler, !1))), e.options.escClose && (e.escHandler = function(t) {
                var e = o.event || t;
                27 === (e.keyCode || e.which) && L.call(this)
            }.bind(e), document.addEventListener("keydown", e.escHandler)), e.options.deepLink && (e.url = o.location.href, 0 <= e.url.search("s-lightbox-viewer") && (e.url = e.url.substring(0, e.url.search("s-lightbox-viewer") - 1)), C.call(e))
        },
        t = function() {
            var e = this;
            e.elements = document.querySelectorAll(".s-lightbox");
            for (var t = 0; t < e.elements.length; t++) {
                e.elements[t].addEventListener("click", function(t) {
                    t.preventDefault(), n.call(e, this)
                });
                var i = e.url.search("s-lightbox-viewer");
                if (0 <= i) e.url.substring(i + 18, e.url.length) == e.elements[t].getAttribute("data-s-lightbox-deeplink") && n.call(e, e.elements[t])
            }
        },
        i = function() {
            var t = this;
            t.items = [], t.elements = document.querySelectorAll(".s-lightbox");
            for (var e = 0; e < t.elements.length; e++) t.elements[e].getAttribute("data-s-lightbox-group") == t.group && t.items.push(s(t.elements[e]));
            t.activeIndex = l(t.activePath, t.items)
        },
        l = function(t, e) {
            for (var i = 0; i < e.length; i++)
                if (e[i].original === t) return i
        },
        s = function(t) {
            var e = {};
            return void 0 !== t.getAttribute("data-s-lightbox-original") && null !== t.getAttribute("data-s-lightbox-original") && "" !== t.getAttribute("data-s-lightbox-original") ? e.original = t.getAttribute("data-s-lightbox-original") : "A" != t.tagName && "a" != t.tagName || null === t.getAttribute("href") || void 0 === t.getAttribute("href") || "" === t.getAttribute("href") ? e.original = "" : e.original = t.getAttribute("href"), void 0 !== t.getAttribute("data-s-lightbox-deeplink") && null !== t.getAttribute("data-s-lightbox-deeplink") && "" !== t.getAttribute("data-s-lightbox-deeplink") ? e.deeplink = t.getAttribute("data-s-lightbox-deeplink") : e.deeplink = "", null == t.getAttribute("data-s-lightbox-type") || null == t.getAttribute("data-s-lightbox-type") || "" == t.getAttribute("data-s-lightbox-type") ? e.type = "image" : e.type = t.getAttribute("data-s-lightbox-type"), null == t.getAttribute("data-s-lightbox-caption") || null == t.getAttribute("data-s-lightbox-caption") || "" == t.getAttribute("data-s-lightbox-caption") ? e.caption = "" : e.caption = t.getAttribute("data-s-lightbox-caption"), "false" == t.getAttribute("data-s-lightbox-ratio") ? e.ratio = !1 : e.ratio = !0, "image" !== e.type && (null == t.getAttribute("data-s-lightbox-width") || null == t.getAttribute("data-s-lightbox-width") || "" == t.getAttribute("data-s-lightbox-width") ? e.width = 800 : e.width = parseInt(t.getAttribute("data-s-lightbox-width"), 10), null == t.getAttribute("data-s-lightbox-height") || null == t.getAttribute("data-s-lightbox-height") || "" == t.getAttribute("data-s-lightbox-height") ? e.height = 450 : e.height = parseInt(t.getAttribute("data-s-lightbox-height"), 10)), e
        },
        a = function() {
            var t = this,
                e = document.createElement("div");
            e.className = "s-lightbox-container", t.options.imgBorder && (e.className = "s-lightbox-container s-lightbox-viewer-border");
            var i = document.createElement("div");
            i.className = "s-lightbox-wrapper";
            var n = document.createElement("div");
            n.className = "s-lightbox-viewer", t.options.overlayClose && (n.className = "s-lightbox-viewer s-lightbox-close-overlay"), i.appendChild(n), n.appendChild(c.call(t)), 1 < t.items.length && i.appendChild(m.call(t)), i.appendChild(v.call(t)), t.options.fullScreenBtn && i.appendChild(p.call(t)), t.options.pagerShow && 1 < t.items.length && (i.appendChild(x.call(t)), f.call(t)), e.appendChild(r.call(t)), e.appendChild(i), t.container = e, document.body.appendChild(t.container)
        },
        r = function() {
            var t = document.createElement("div");
            return t.className = "s-lightbox-overlay", "" != this.options.overlayStyle && t.setAttribute("style", this.options.overlayStyle), t
        },
        m = function() {
            var e = this,
                t = document.createElement("div");
            t.className = "s-lightbox-navigation";
            var i = document.createElement("button");
            i.className = "s-lightbox-navigation-prev";
            var n = document.createElement("button");
            return n.className = "s-lightbox-navigation-next", t.appendChild(i), t.appendChild(n), i.addEventListener("click", function(t) {
                t.preventDefault(), e.controlState && E.call(e)
            }), n.addEventListener("click", function(t) {
                t.preventDefault(), e.controlState && w.call(e)
            }), t
        },
        c = function() {
            var t = this;
            return t.itemContainer = document.createElement("div"), t.itemContainer.className = "s-lightbox-items", 1 < t.items.length && (t.itemFirst = u.call(t, "first"), t.itemLast = u.call(t, "last"), t.itemContainer.appendChild(t.itemFirst), t.itemContainer.appendChild(t.itemLast)), t.itemActive = u.call(t, "active"), t.itemContainer.appendChild(t.itemActive), t.itemContainer
        },
        u = function(t) {
            var e = this;
            if (e.items.length < 1) return !1;
            var i = e.activeIndex;
            "first" == t && (i = e.activeIndex - 1) < 0 && (i = e.items.length - 1), "last" == t && (i = e.activeIndex + 1) >= e.items.length && (i = 0);
            var n = document.createElement("div");
            n.className = "s-lightbox-item s-lightbox-item-" + t;
            var l = document.createElement("div");
            l.className = "s-lightbox-item-container";
            var s = document.createElement("div");
            if (s.className = "s-lightbox-item-box s-lightbox-content-box", l.appendChild(s), n.appendChild(l), n.appendChild(y.call(e)), "image" == e.items[i].type) {
                s.className = "s-lightbox-item-box";
                var a = document.createElement("img");
                a.className = "s-lightbox-item-image", a.src = e.items[i].original, a.addEventListener("load", function() {
                    s.appendChild(a), n.removeChild(n.querySelector(".s-lightbox-loader")), 0 < e.items.length && A(s, this.naturalWidth, this.naturalHeight, e.items[i].ratio)
                })
            } else {
                if ("html" == e.items[i].type) {
                    s.className = "s-lightbox-item-box s-lightbox-content-box s-lightbox-view-html";
                    var r = e.items[i].original.substring(1, e.items[i].original.length);
                    s.innerHTML = document.getElementById(r).innerHTML
                } else "youtube" == e.items[i].type ? s.innerHTML = '<iframe class="s-lightbox-youtube-iframe" src="https://www.youtube.com/embed/' + e.items[i].original + '" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>' : "vimeo" == e.items[i].type ? s.innerHTML = '<iframe class="s-lightbox-vimeo-iframe" src="https://player.vimeo.com/video/' + e.items[i].original + '?title=0&byline=0&portrait=0" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>' : "iframe" == e.items[i].type ? s.innerHTML = '<iframe class="s-lightbox-content-iframe" src="' + e.items[i].original + '" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>' : "dailymotion" == e.items[i].type ? s.innerHTML = '<iframe class="s-lightbox-dailymotion-iframe" src="https://www.dailymotion.com/embed/video/' + e.items[i].original + '" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>' : "googlemap" == e.items[i].type && (s.innerHTML = '<iframe class="s-lightbox-googlemap-iframe" src="' + e.items[i].original + '" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>');
                n.removeChild(n.querySelector(".s-lightbox-loader")), setTimeout(function() {
                    A(s, e.items[i].width, e.items[i].height, e.items[i].ratio)
                }, 10)
            }
            return "" !== e.items[i].caption && (s.innerHTML = s.innerHTML + '<div class="s-lightbox-caption">' + e.items[i].caption + "</div>"), e.options.overlayClose && n.addEventListener("click", function(t) {
                var e = o.event || t,
                    i = e.target || e.srcElement;
                "s-lightbox-item-container" != i.className && "s-lightbox-item s-lightbox-item-active" != i.className || L.call(this)
            }.bind(e)), e.options.drag && 1 < e.items.length && "image" == e.items[i].type && (s.className = "s-lightbox-item-box s-lightbox-draggable-content", s.addEventListener("touchstart", d.bind(e), !1), s.addEventListener("touchend", h.bind(e), !1), s.addEventListener("touchmove", g.bind(e), !1), s.addEventListener("mousedown", d.bind(e), !1), s.addEventListener("mouseup", h.bind(e), !1), s.addEventListener("mousemove", g.bind(e), !1)), n
        },
        d = function(t) {
            t.preventDefault();
            "touchstart" === t.type ? this.dragOffsetX = t.touches[0].clientX : this.dragOffsetX = t.clientX, this.dragCurrentX = 0, this.dragActive = !0
        },
        h = function(t) {
            t.preventDefault();
            var e = this;
            e.dragActive = !1, 100 < Math.abs(e.dragCurrentX) && e.controlState ? e.dragCurrentX < 0 ? w.call(e) : E.call(e) : (e.itemFirst.setAttribute("style", "transition-duration: 200ms; transform: translate(-100%, 0);"), e.itemLast.setAttribute("style", "transition-duration: 200ms; transform: translate(100%, 0);"), e.itemActive.setAttribute("style", "transition-duration: 200ms; transform: translate(0, 0);"))
        },
        g = function(t) {
            t.preventDefault();
            var e = this;
            e.dragActive && (e.dragCurrentX = 0, t.preventDefault(), "touchmove" === t.type ? e.dragCurrentX = t.touches[0].clientX - e.dragOffsetX : e.dragCurrentX = t.clientX - e.dragOffsetX, b.call(e, e.dragCurrentX))
        },
        b = function(t) {
            var e = document.body.clientWidth;
            this.itemFirst.setAttribute("style", "transform: translate(" + -(e - t) + "px, 0);"), this.itemLast.setAttribute("style", "transform: translate(" + (e + t) + "px, 0);"), this.itemActive.setAttribute("style", "transform: translate(" + t + "px, 0);")
        },
        v = function() {
            var e = this,
                t = document.createElement("button");
            return t.className = "s-lightbox-closer", t.setAttribute("title", "Close"), t.addEventListener("click", function(t) {
                t.preventDefault(), L.call(e)
            }), t
        },
        p = function() {
            var e = document.createElement("button");
            return e.className = "s-lightbox-fullscreen", e.innerHTML = '<span class="s-lightbox-fullscreen-container"><span></span><span></span><span></span><span></span><span></span></span>', e.setAttribute("title", "Fullscreen"), e.addEventListener("click", function(t) {
                t.preventDefault(), F(e)
            }), e
        },
        x = function() {
            return this.pagerBox = document.createElement("div"), this.pagerBox.className = "s-lightbox-page-info", this.pagerBox
        },
        f = function() {
            this.pagerBox.innerHTML = "<span>" + (this.activeIndex + 1) + "</span>&nbsp;/&nbsp;" + this.items.length
        },
        y = function() {
            var t = document.createElement("div");
            return t.className = "s-lightbox-loader s-lightbox-loader-" + this.options.loader, t
        },
        A = function(t, e, i, n) {
            var l = o.innerWidth - 20,
                s = o.innerHeight - 20;
            768 <= document.body.clientWidth && (l -= 100, s -= 100), n ? e < l && s < i ? (e = s * e / i, i = s) : l < e && i < s ? (i = l * i / e, e = l) : l < e && s < i && (l / s <= e / i ? (i = l * i / e, e = l) : (e = s * e / i, i = s)) : (l < e && (e = l), s < i && (i = s)), t.setAttribute("style", "width:" + e + "px; height:" + i + "px; left:" + (l - e) / 2 + "px; top:" + (s - i) / 2 + "px; transform:scale(1); opacity:1;")
        },
        w = function() {
            var e = this;
            e.controlState = !1, e.itemFirst.setAttribute("style", "transition-duration: " + e.options.duration + "ms; transform: translate(-200%, 0);"), e.itemLast.setAttribute("style", "transition-duration: " + e.options.duration + "ms; transform: translate(0, 0);"), e.itemActive.setAttribute("style", "transition-duration: " + e.options.duration + "ms; transform: translate(-100%, 0);"), setTimeout(function() {
                var t = e.itemFirst;
                e.itemFirst = e.itemActive, e.itemActive = e.itemLast, e.itemLast = t, e.itemFirst.className = "s-lightbox-item s-lightbox-item-first", e.itemActive.className = "s-lightbox-item s-lightbox-item-active", e.itemLast.className = "s-lightbox-item s-lightbox-item-last", e.itemFirst.setAttribute("style", "transition-duration: 0s;"), e.itemLast.setAttribute("style", "transition-duration: 0s;"), e.itemActive.setAttribute("style", "transition-duration: 0s;"), 1 < e.items.length && ("youtube" == e.items[e.activeIndex].type || "vimeo" == e.items[e.activeIndex].type || "dailymotion" == e.items[e.activeIndex].type) && (e.itemFirst.getElementsByTagName("iframe")[0].src = e.itemFirst.getElementsByTagName("iframe")[0].src), e.activeIndex++, e.activeIndex >= e.items.length && (e.activeIndex = 0), e.itemContainer.removeChild(e.itemLast), e.itemLast = u.call(e, "last"), !1 !== e.itemLast && e.itemContainer.appendChild(e.itemLast), e.options.deepLink && C.call(e), 1 < e.items.length && f.call(e), e.controlState = !0
            }, e.options.duration)
        },
        E = function() {
            var e = this;
            e.controlState = !1, e.itemFirst.setAttribute("style", "transition-duration: " + e.options.duration + "ms; transform: translate(0, 0);"), e.itemLast.setAttribute("style", "transition-duration: " + e.options.duration + "ms; transform: translate(100%, 0);"), e.itemActive.setAttribute("style", "transition-duration: " + e.options.duration + "ms; transform: translate(200%, 0);"), setTimeout(function() {
                var t = e.itemFirst;
                e.itemFirst = e.itemLast, e.itemLast = e.itemActive, e.itemActive = t, e.itemFirst.className = "s-lightbox-item s-lightbox-item-first", e.itemActive.className = "s-lightbox-item s-lightbox-item-active", e.itemLast.className = "s-lightbox-item s-lightbox-item-last", e.itemFirst.setAttribute("style", "transition-duration: 0s;"), e.itemLast.setAttribute("style", "transition-duration: 0s;"), e.itemActive.setAttribute("style", "transition-duration: 0s;"), 1 < e.items.length && ("youtube" == e.items[e.activeIndex].type || "vimeo" == e.items[e.activeIndex].type || "dailymotion" == e.items[e.activeIndex].type) && (e.itemLast.getElementsByTagName("iframe")[0].src = e.itemLast.getElementsByTagName("iframe")[0].src), e.activeIndex--, e.activeIndex < 0 && (e.activeIndex = e.items.length - 1), e.itemContainer.removeChild(e.itemFirst), e.itemFirst = u.call(e, "first"), !1 !== e.itemFirst && e.itemContainer.appendChild(e.itemFirst), e.options.deepLink && C.call(e), 1 < e.items.length && f.call(e), e.controlState = !0
            }, e.options.duration)
        },
        L = function() {
            var t = this;
            o.removeEventListener("resize", t.resizeHandler), document.removeEventListener("keydown", t.keypressHandler), document.removeEventListener("keydown", t.escHandler), o.removeEventListener("mousewheel", t.scrollHandler, !1), o.removeEventListener("DOMMouseScroll", t.scrollHandler, !1), t.container.className = t.container.className + " s-lightbox-closeEffect", document.body.className = t.bodyClass, 1 < t.items.length && (t.itemFirst.setAttribute("style", "display:none;"), t.itemLast.setAttribute("style", "display:none;")), setTimeout(function() {
                t.container.parentNode.removeChild(t.container), t.options.deepLink && o.history.replaceState({}, "", t.url), t.items = []
            }, 200);
            var e = document.fullscreenElement && null !== document.fullscreenElement || document.webkitFullscreenElement && null !== document.webkitFullscreenElement || document.mozFullScreenElement && null !== document.mozFullScreenElement || document.msFullscreenElement && null !== document.msFullscreenElement;
            document.documentElement;
            e && (document.exitFullscreen ? document.exitFullscreen() : document.webkitExitFullscreen ? document.webkitExitFullscreen() : document.mozCancelFullScreen ? document.mozCancelFullScreen() : document.msExitFullscreen && document.msExitFullscreen())
        },
        F = function(t) {
            var e = document.fullscreenElement && null !== document.fullscreenElement || document.webkitFullscreenElement && null !== document.webkitFullscreenElement || document.mozFullScreenElement && null !== document.mozFullScreenElement || document.msFullscreenElement && null !== document.msFullscreenElement,
                i = document.documentElement;
            e ? document.exitFullscreen ? document.exitFullscreen() : document.webkitExitFullscreen ? document.webkitExitFullscreen() : document.mozCancelFullScreen ? document.mozCancelFullScreen() : document.msExitFullscreen && document.msExitFullscreen() : i.requestFullscreen ? i.requestFullscreen() : i.mozRequestFullScreen ? i.mozRequestFullScreen() : i.webkitRequestFullScreen ? i.webkitRequestFullScreen() : i.msRequestFullscreen && i.msRequestFullscreen()
        },
        C = function() {
            var t = this;
            0 < t.items.length && "" !== t.items[t.activeIndex].deeplink ? o.history.replaceState({}, "", t.url + "#s-lightbox-viewer/" + t.items[t.activeIndex].deeplink) : o.history.replaceState({}, "", t.url)
        },
        e = function(t, e) {
            var i;
            for (i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
            return t
        }
}(window);